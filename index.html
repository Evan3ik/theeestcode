<html>
<head>
<meta charset="utf-8">
<title>valve software</title>
<script src="require.js"></script>
<script>

function cipherRot12(str) {
    
    var alphabets =['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'," ", "-", "_", ".", "&","?", "!", "@", "#", "/", "=", 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
    
    var alphabets12 = ['M', 'N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L', " ", "-", "_", ".", "&","?", "!", "@", "#", "/", "=", 'm','n','o','p','q','r','s','t','u','v','w','x','y','z','a','b','c','d','e','f','g','h','i','j','k','l'];
    
    var resultStr = [];
    for(let i=0; i<str.length; i++){
        for(let j =0; j<alphabets.length; j++){
            if(str[i] === alphabets[j]){
                     resultStr.push(alphabets12[j])
            }
        }
    }
    return resultStr.join("");
  };


function cipherRotm12(str) {
    
    var alphabets12 =['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'," ", "-", "_", ".", "&","?", "!", "@", "#", "/", "=", 'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];
    
    var alphabets = ['M', 'N','O','P','Q','R','S','T','U','V','W','X','Y','Z','A','B','C','D','E','F','G','H','I','J','K','L', " ", "-", "_", ".", "&","?", "!", "@", "#", "/", "=", 'm','n','o','p','q','r','s','t','u','v','w','x','y','z','a','b','c','d','e','f','g','h','i','j','k','l'];
    
    var resultStr = [];
    for(let i=0; i<str.length; i++){
        for(let j =0; j<alphabets.length; j++){
            if(str[i] === alphabets[j]){
            resultStr.push(alphabets12[j]);
            } 
        }
    }
    return resultStr.join("");
  };



document.addEventListener("DOMContentLoaded", function() {
    const twoZero = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", '"', "'", ".", "/", "*", "&", "^", "%", "$", "#", "!", "(", ")", "<", ">", "?", "!", ";", ":", "=", "+", "-"]
    const noZero = ["й","ц","у","к","е","н","г","ш","щ","з","ф","ы","в","а","п","р","о","л","д","ж","э","х","ъ","я","ч","с","ё","м","и","т","и","ь","б","ю"]
    const form = document.getElementById("inputform");
    const input = document.getElementById("input");
    const output = document.getElementById("output");
    const outType = document.getElementById("code");
    form.addEventListener("submit", function(e) {
        const oT = outType.value
        if (oT == "encode") {
            var binary = ""
              for (var i = 0; i < input.value.length; i++) {
                  if (twoZero.indexOf(input.value[i]) < 0 && noZero.indexOf(input.value[i]) < 0) {
                  binary += "0" + input.value[i].charCodeAt(0).toString(2) + " ";
                  } else if (noZero.indexOf(input.value[i]) < 0 && twoZero.indexOf(input.value[i]) > 0) {
                      binary += "00" + input.value[i].charCodeAt(0).toString(2) + " ";
                  } else  {
                      binary += input.value[i].charCodeAt(0).toString(2) + " ";
                  }
              }
              console.log(binary)
              binary = btoa(binary)
              binary = cipherRot12(binary)
              output.value = binary
              
        }
        if (oT == "decode") {
            var binary = input.value
            binary = cipherRotm12(binary)
            binary = atob(binary)
            var binString = '';
            binary.split(' ').map(function(bin) {
                binString += String.fromCharCode(parseInt(bin, 2));
            });
            binString = binString.substring(0, binString.length - 1)
            output.value = binString
        }
        e.preventDefault();
    });
});
</script>
<style>
#mainview {
    background: url('https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.ytimg.com%2Fvi%2Fwk-aW3yyEcc%2Fmaxresdefault.jpg&f=1&nofb=1&ipt=c1a136a662b3e93280b1da1b72d2c8df818789bb972a5b75d1ec81f139ba7b3e&ipo=images');
    background-repeat: no-repeat;
    background-size: 2000px 1000px;
    position: center;
    color: black;
    font-family: quicksand;
}
.footer-content-right {
  padding-right:40px;
  margin-top:20px;
  float:right;
}

.icon-style {
  height:40px;
  margin-left:20px;
  margin-top:5px;
}

.icon-style:hover {
  background-color:yellow;
  padding:5px;
}
code {
    background: rgb(165, 172, 165);
    padding: 2px;
    border-radius: 5px;
    color: black;
}

label {
    color: #ffffff;
}
#container, #outcontainer {
    background: #4A4A4A;
    text-align: center;
    width: 50%;
    margin: 64px auto;
    padding: 16px;
    border: 10px solid black;
    border-radius: 16px;
}

#flexcontainer {
    display: flex;
}

#flexcontainer, * {
    flex-grow: 1;
}

textarea {
    width: 320px;
    height: 160px;
    border-radius: 8px;
}
input {
    background-color: #21c1e9;
    width: 250px;
    height: 40px;
    border-radius: 16px;
}


</style>
</head>
<body id="mainview">
<div id="container">
    <div id="flexcontainer">
            
        <form id="inputform">
            <br>
                
            <label for="code">Type:</label>
            <select name="code" id="code">
                <option value="encode">Encode</option>
                <option value="decode">Decode</option>
            </select>
            <br>
            <label for="input" style="color:White">Text:</label>
            <br>
            <textarea spellcheck="false" name="input" id="input" required></textarea>
            <br>
            <input type="submit" value="Convert"> 
        </form>
        </div>
    </div>
<div id="outcontainer">
    <div id="outflexcontainer">
        <form id="outinputform">
            <br>
            <label for="input" style="color:White">Output:</label>
            <br>
            <textarea spellcheck="false" name="output" id="output" required></textarea>
            <br>
        </form>
        </div>
    </div>
<div class="footer-content-right">
    <a href="https://github.com/Evan3ik" target="_blank"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" class="icon-style" alt="Github icon"></a>
    <a href="https://youtu.be/jTb8jGbB4PA" target="_blank"><img src="https://icolink.com/media/com_easysocial/avatars/users/12119/76cf547044608dd6665637f43872d169_square.webp"  class="icon-style" alt="Floppa icon"></a>
    <a href="https://youtu.be/5g9DkQIjRSU" target="_blank"><img src="https://vectorflags.s3.amazonaws.com/flags/al-square-01.png" class="icon-style" alt="Albania icon"></a>
</div>
   <script>
       getBg()
       async function getBg() {
      var images = ["albania", "estonia", "estonia wallpaper", "problem sleuth on mspaint adventures", "hacker", "baltics", "latvia", "germany", "russia"]
   var fetch = require("node-fetch").default;
     var response = await fetch('https://duckduckgo.com/?t=ffab&q=' + images[Math.floor(Math.random() * images.length)] + '&iax=images&ia=images');
  var body = await response.text();
    var imgLink = body.split('"URL":"/i/').pop()
   imgLink = imgLink.toString()
  var ding = imgLink.substring(0, 12)
    var dingo = "https://external-content.duckduckgo.com/i/" + ding
  console.log(dingo)
  document.getElementsByClassName('mainview')[0].style.backgroundImage = 'url(' + dingo + ')';
       }
   </script>
</body>
</html>
